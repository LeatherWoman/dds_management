# Оглавление
1. Описание проекта
2. Требования к системе
3. Установка и запуск
4. Использование системы
5. API и интеграция
6. Разработка и тестирование
7. FAQ

## Описание проекта
Веб-сервис для учета движения денежных средств (ДДС) позволяет:

* Вести учет финансовых операций
* Управлять справочниками (статусы, типы операций, категории)
* Анализировать расходы и доходы
* Фильтровать данные по различным параметрам

Основные сущности:

* Транзакции
* Статусы (Бизнес, Личное, Налог)
* Типы операций (Пополнение, Списание)
* Категории и подкатегории

## Требования к системе
* Python 3.10+
* Django 4.2+
* SQLite (или другая поддерживаемая СУБД)

## Установка и запуск
1. Клонирование репозитория
~~~bash
git clone https://github.com/LeatherWoman/dds_management
cd dds_management
~~~
2. Настройка виртуального окружения
~~~bash
python -m venv .venv
source .venv/bin/activate  # Linux/MacOS
.\.venv\Scripts\activate   # Windows
~~~
3. Установка зависимостей
~~~bash
pip install -r requirements.txt
~~~
4. Настройка базы данных
~~~bash
python manage.py migrate
~~~
5. Создание суперпользователя (опционально)
~~~bash
python manage.py createsuperuser
~~~
6. Запуск сервера
~~~bash
python manage.py runserver
~~~
После запуска сервер будет доступен по адресу: http://127.0.0.1:8000

## Использование системы
### Основные разделы
1. Главная страница (`/`)
    * Просмотр списка транзакций
    * Фильтрация по параметрам
    * Сортировка по дате

2. Добавление транзакции (`/transaction/add/`)
    * Форма для создания новой транзакции
    * Валидация данных
    * Динамическая загрузка подкатегорий

3. Редактирование транзакции (`/transaction/<id>/edit/`)
    * Изменение существующей транзакции
    * Проверка логических связей

4. Управление справочниками (`/references/`)
    * Добавление/удаление статусов, типов, категорий
    * Установка связей между сущностями

### Работа с транзакциями
1. Добавление новой транзакции:
    * Нажмите "Добавить транзакцию" в меню
    * Заполните обязательные поля (дата, тип, категория, сумма)
    * Сохраните форму

2. Фильтрация списка:
    * Используйте фильтры в верхней части страницы
    * Можно фильтровать по дате, статусу, типу операции
    * Для сброса фильтров нажмите "Сбросить"

3. Редактирование/удаление:
    * Нажмите соответствующие кнопки в строке транзакции
    * Удаление требует подтверждения

### Управление справочниками
1. Добавление элементов:
    * Перейдите в раздел "Справочники"
    * Выберите нужную вкладку (статусы, типы и т.д.)
    * Заполните форму добавления

2. Удаление элементов:
    * Нажмите кнопку "Удалить" рядом с элементом
    * Учтите, что удаление невозможно, если элемент используется в транзакциях

## API и интеграция
Система предоставляет следующие API-эндпоинты:

1. `GET /get_subcategories/?category_id=<id>` - получение подкатегорий для категории

    * Возвращает JSON-список подкатегорий
    * Пример ответа:
        ~~~json
        [{"id": 1, "name": "VPS"}, {"id": 2, "name": "Proxy"}]
        ~~~
2. `GET /api/transactions/` - список транзакций 

3. `POST /api/transactions/` - создание новой транзакции

Для работы с API используйте стандартные HTTP-методы и заголовки.

### Разработка и тестирование
Структура проекта
~~~
dds_management/
├── dds_management/       # Основное приложение
│   ├── migrations/       # Миграции базы данных
│   ├── static/           # Статические файлы
│   ├── templates/        # Шаблоны HTML
│   ├── tests/            # Тесты
│   ├── admin.py          # Админ-панель
│   ├── apps.py           # Конфигурация приложения
│   ├── forms.py          # Формы
│   ├── models.py         # Модели данных
│   ├── urls.py           # URL-маршруты
│   ├── views.py          # Представления
│   └── services.py       # Бизнес-логика
├── dds_project/          # Настройки проекта
├── manage.py             # Управление проектом
└── requirements.txt      # Зависимости
~~~
#### Запуск тестов
~~~bash
python manage.py test
~~~
#### Создание миграций
~~~bash
python manage.py makemigrations
python manage.py migrate
~~~
#### Администрирование
Доступ к админ-панели: http://127.0.0.1:8000/admin
Используйте учетные данные суперпользователя.

## FAQ
Q: Как добавить новый статус транзакции?
A: Перейдите в "Справочники" → вкладка "Статусы" → заполните форму добавления

Q: Почему не отображаются подкатегории при создании транзакции?
A: Сначала выберите категорию - подкатегории загрузятся автоматически

Q: Как изменить список доступных типов операций?
A: В разделе "Справочники" → вкладка "Типы операций" можно добавлять/удалять типы

Q: Где хранятся данные приложения?
A: По умолчанию используется SQLite (файл db.sqlite3 в корне проекта)
